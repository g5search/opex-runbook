(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{370:function(s,t,a){"use strict";a.r(t);var e=a(42),o=Object(e.a)({},(function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h1",{attrs:{id:"all-things-postgres"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#all-things-postgres"}},[s._v("#")]),s._v(" All Things Postgres")]),s._v(" "),a("h4",{attrs:{id:"postgres-cli"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#postgres-cli"}},[s._v("#")]),s._v(" Postgres CLI")]),s._v(" "),a("p",[s._v("MacOS using "),a("a",{attrs:{href:"https://postgresapp.com/documentation/cli-tools.html",target:"_blank",rel:"noopener noreferrer"}},[s._v("PostgresApp"),a("OutboundLink")],1),s._v(" will need to add commands to shell path. Run the following (requires admin user):")]),s._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("mkdir")]),s._v(" -p /etc/paths.d "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&&")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" /Applications/Postgres.app/Contents/Versions/latest/bin "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("tee")]),s._v(" /etc/paths.d/postgresapp\n")])])]),a("h4",{attrs:{id:"dump-and-restore-databases-from-remote-instances"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#dump-and-restore-databases-from-remote-instances"}},[s._v("#")]),s._v(" Dump and Restore Databases from Remote Instances")]),s._v(" "),a("p",[s._v("Dump backup of "),a("code",[s._v("database_name")]),s._v(" from Postgres instance.")]),s._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[s._v("pg_dump -h localhost -p "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("5454")]),s._v(" -U postgres -f dump.sql database_name\n")])])]),a("blockquote",[a("p",[s._v("You will be prompted for the password.")])]),s._v(" "),a("ul",[a("li",[a("code",[s._v("-f")]),s._v(" is the output file name.")]),s._v(" "),a("li",[a("code",[s._v("-h")]),s._v(" is the host (alias, IP, or domain name).")]),s._v(" "),a("li",[a("code",[s._v("-p")]),s._v(" is the TCP port. Postgres' default is "),a("code",[s._v("5432")]),s._v(".")]),s._v(" "),a("li",[a("code",[s._v("-U")]),s._v(" is the database user. Default is "),a("code",[s._v("postgres")]),s._v(".")]),s._v(" "),a("li",[s._v("last is the "),a("code",[s._v("database_name")]),s._v(".")])]),s._v(" "),a("p",[s._v("Restore "),a("code",[s._v("database_name")]),s._v(" from dump file.")]),s._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[s._v("psql -f dump.sql database_name\n")])])]),a("h2",{attrs:{id:"install-google-cloud-sql-auth-proxy"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#install-google-cloud-sql-auth-proxy"}},[s._v("#")]),s._v(" Install Google Cloud SQL Auth Proxy")]),s._v(" "),a("p",[s._v("If you need to connect to remote instance with an app or a local client, you will need to install the Cloud SQL Proxy. This handles the authentication and attaches the database locally to a port of your choosing.")]),s._v(" "),a("p",[a("a",{attrs:{href:"https://cloud.google.com/sql/docs/mysql/sql-proxy",target:"_blank",rel:"noopener noreferrer"}},[s._v("Install Cloud SQL Proxy"),a("OutboundLink")],1)])])}),[],!1,null,null,null);t.default=o.exports}}]);